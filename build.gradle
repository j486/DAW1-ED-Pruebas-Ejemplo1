// plugins {
//  id "org.sonarqube" version "2.6"
//}

apply plugin: 'java'
apply plugin: 'application'
apply plugin: "jacoco"

repositories {
    jcenter()  
}

jar {
    manifest {
       attributes ('Main-Class': 'Main')
    }
}

dependencies {
    testCompile 'junit:junit:4.12'         
}

jacocoTestReport {
    reports {
        xml.enabled true
        csv.enabled false
        html.destination file("${buildDir}/jacocoHtml")
    }
}

mainClassName = 'Main'

plugins {
  id "org.sonarqube" version "2.8"
}

sonarqube {
  properties {
    property "sonar.projectKey", "j486_DAW1-ED-Pruebas-Ejemplo1"
  }
}

addons:
  sonarcloud:
    organization: "j486"
    token:
      secure: "c33b16d3eb3c857a3ee56a2792a5411fe0981d9b" # encrypted value of your token

script:
  - ./gradlew sonarqube

